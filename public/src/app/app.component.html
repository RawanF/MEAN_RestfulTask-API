<div class="root">
  <h1>weclome {{name}} </h1>
  <br><br>
  <h3>Restful Task API</h3>
  <br><br>
  <div id="contant">
  <h3>Add New Task</h3>
<form (submit)="onSubmit()" >
    <p> {{ newTask | json }} </p>
    <label>Title:</label>
    <input type="text" name="title" [(ngModel)]="newTask.title" /><br>
    <label>Description:</label>
    <input type="text" name="description" [(ngModel)]="newTask.description" />
    <input type="submit" value="Create Task" />
</form>
<br><br>
  <button (click)="GetAllTasks()">Get All Tasks</button>
  <br><br>
  <div id="tasks" *ngFor="let i of tasks | keyvalue">
    <b>Title: </b> {{i.value['title']}}    
    <button (click)="GetTaskByID(i.value['_id'])">Show task details</button><br> 
    <button (click)="toggleDisplay(i.value)">Edit task </button><br> 
    <button (click)="DeleteTask(i.value['_id'])">Delete task </button><br> 
    <br>
  </div>
  
  <div id="task" *ngFor="let T of task | keyvalue">
    <b>Title: </b> {{T.value['title']}}  <br> 
    <b>Description: </b> {{T.value['description']}}  <br>
    <b>Created At: </b> {{T.value['createdAt']}}  <br>
    <b>Updated At: </b> {{T.value['updatedAt']}}  <br>
    <b>Completed? </b> {{T.value['completed']}}
     <span *ngIf="T.value['completed']; else NotCompleted">Yes</span>
    <ng-template #NotCompleted>
     <span>No</span> 
    </ng-template>
</div>
<div [hidden] = "isShow">
    <form (submit)="EditTask(editTask)" >
        <p> {{ editTask | json }} </p>
        <label>Title:</label>
        <input type="text"  name="title" [(ngModel)]="editTask.title" /><br>
        <label>Description:</label>
        <input type="text" name="description"  [(ngModel)]="editTask.description" />
        <input type="submit" value="Updated" />
    </form>
</div>
  </div>
    <!-- <div *ngFor="let item of i.value | keyvalue">
      Key: <b>{{item.key}}</b> -- Value: <b>{{item.value}}</b>
  </div>
  </div>
  <input type="text" [value]="name" />
</div> -->